(()=>{"use strict";var e={d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}e.d({},{A:()=>S});var n,a,r,o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=e.contId,this.tarea=t,this.estado=!1,this.fecha=new Date,e.contId++}var n,a,r;return n=e,(a=[{key:"getId",get:function(){return this.id}},{key:"getTarea",get:function(){return this.tarea}},{key:"getFeha",get:function(){return this.fecha}},{key:"setEstado",set:function(e){this.estado=e}},{key:"getEstado",get:function(){return this.estado}}])&&t(n.prototype,a),r&&t(n,r),e}();function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}r=1,(a="contId")in(n=o)?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r;var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loadLocalStorage()}var t,n,a;return t=e,(n=[{key:"getListaTarea",get:function(){return this.listaTareas}},{key:"addTarea",value:function(e){this.listaTareas.push(e),this.addLocalStorage(this.getListaTarea)}},{key:"deleteTarea",value:function(e){this.listaTareas=this.listaTareas.filter((function(t){return t.id!=e})),this.addLocalStorage(this.getListaTarea)}},{key:"marcarCompletado",value:function(e){var t,n=i(this.listaTareas);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.id==e){a.estado=!a.estado;break}}}catch(e){n.e(e)}finally{n.f()}this.addLocalStorage(this.getListaTarea)}},{key:"deleteCompletados",value:function(){this.listaTareas=this.listaTareas.filter((function(e){return!e.estado})),this.addLocalStorage(this.getListaTarea)}},{key:"countPendign",value:function(){var e=0;return this.listaTareas.filter((function(t){t.estado||e++})),e}},{key:"addLocalStorage",value:function(e){localStorage.setItem("tarea",JSON.stringify(e))}},{key:"loadLocalStorage",value:function(){this.listaTareas=localStorage.getItem("tarea")?JSON.parse(localStorage.getItem("tarea")):[]}}])&&c(t.prototype,n),a&&c(t,a),e}(),u=document.querySelector(".todo-list"),d=document.querySelector(".new-todo"),f=document.querySelector(".clear-completed"),g=document.getElementById("btnAll"),h=document.getElementById("btnPending"),v=document.getElementById("btnCompleted"),m=document.getElementById("count-pending"),y=document.querySelectorAll(".filtro"),p=function(e){var t='\n    <li class="'.concat(e.estado?"completed":"",'" data-id="').concat(e.id,'">\n        <div class="view">\n            <input class="toggle" type="checkbox" ').concat(e.estado?"checked":"",">\n            <label>").concat(e.tarea,'</label>\n            <button class="destroy"></button>\n        </div>\n        <input class="edit" value="Create a TodoMVC template">\n    </li>\n    '),n=document.createElement("div");return n.innerHTML=t,u.append(n.firstElementChild),n.firstElementChild};function b(){for(var e=u.children.length-1;e>=0;e--)u.removeChild(u.children[e])}function T(e){y.forEach((function(e){return e.classList.remove("selected")})),console.log(e),e.classList.add("selected")}function L(e){b();for(var t=0;t<S.getListaTarea.length;t++)S.getListaTarea[t].estado==e&&p(S.getListaTarea[t])}d.addEventListener("keyup",(function(e){if(13===e.keyCode&&d.value.length>0){var t=new o(d.value);localStorage.setItem("idTarea",JSON.stringify(o.contId)),S.addTarea(t),d.value="",p(t)}m.innerHTML=S.countPendign()})),u.addEventListener("click",(function(e){var t=e.target.localName,n=e.target.parentElement.parentElement,a=n.getAttribute("data-id");"input"===t&&(S.marcarCompletado(a),n.classList.toggle("completed")),"button"===t&&(S.deleteTarea(a),u.removeChild(n)),m.innerHTML=S.countPendign()})),f.addEventListener("click",(function(){S.deleteCompletados();for(var e=u.children.length-1;e>=0;e--){var t=u.children[e];t.classList.contains("completed")&&u.removeChild(t)}m.innerHTML=S.countPendign()})),g.addEventListener("click",(function(){T(g),function(){b();for(var e=0;e<S.getListaTarea.length;e++)p(S.getListaTarea[e])}()})),h.addEventListener("click",(function(){T(h),L(!1)})),v.addEventListener("click",(function(){T(v),L(!0)}));var S=new s;S.getListaTarea.forEach((function(e){return p(e)})),o.contId=localStorage.getItem("idTarea")?JSON.parse(localStorage.getItem("idTarea")):o.contId})();